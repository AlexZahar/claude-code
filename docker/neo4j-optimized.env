# Neo4j Optimized Configuration for Graphiti Memory System
# Docker environment file for high-performance Neo4j setup

# Authentication
NEO4J_AUTH=neo4j/demodemo

# Memory Configuration (Optimized for 16GB+ systems)
NEO4J_server_memory_heap_initial__size=2G
NEO4J_server_memory_heap_max__size=4G
NEO4J_server_memory_pagecache_size=2G
NEO4J_server_memory_off__heap_max__size=1G

# Performance Settings
NEO4J_server_db_query__cache__size=1000000
NEO4J_server_cypher_query__cache__size=1000
NEO4J_server_db_relationship__grouping__threshold=100
NEO4J_server_db_checkpoint_interval_time=300s

# Connection Pooling
NEO4J_server_bolt_connection__max__pool__size=400
NEO4J_server_bolt_connection__keep__alive=true
NEO4J_server_bolt_connection_pool_acquisition_timeout=60s

# Query Performance
NEO4J_server_cypher_default__language__version=5
NEO4J_server_cypher_forbid__exhaustive__shortestpath=false
NEO4J_server_cypher_hints_error=false

# Transaction Settings
NEO4J_server_db_transaction_timeout=60s
NEO4J_server_db_transaction_concurrent_maximum=1000

# I/O Optimization
NEO4J_server_db_logs_query_threshold=2s
NEO4J_server_metrics_enabled=true
NEO4J_server_metrics_filter=*

# Networking
NEO4J_server_default__listen__address=0.0.0.0
NEO4J_server_default__advertised__address=localhost
NEO4J_server_connector_bolt_advertised__address=:7687
NEO4J_server_connector_http_advertised__address=:7474

# Security
NEO4J_server_db_security_auth_enabled=true
NEO4J_server_db_security_procedures_unrestricted=apoc.*

# Logging (Reduced for performance)
NEO4J_server_logs_query_enabled=false
NEO4J_server_logs_debug_enabled=false
NEO4J_server_logs_gc_enabled=false